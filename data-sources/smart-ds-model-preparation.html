<!DOCTYPE html>
<html class="writer-html5" lang="Python" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SMART-DS OpenDSS Model Preparation &mdash; DISCO 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PV Deployments" href="../pv-deployments.html" />
    <link rel="prev" title="Data Sources" href="../data-sources.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DISCO
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#use-conda">Use Conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#use-docker">Use Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#data-sources">Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#transform-model">Transform Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#config-jobs">Config Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#submit-jobs">Submit Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#result-analysis">Result Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#source-data">Source Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#transform-model">Transform Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#config-jobs">Config Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#submit-jobs">Submit Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#result-analysis">Result Analysis</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../data-sources.html">Data Sources</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">SMART-DS OpenDSS Model Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#gem-model">GEM Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#epri-model">EPRI Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#sourcetree1-model">SourceTree1 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#sourcetree2-model">SourceTree2 Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pv-deployments.html">PV Deployments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pv-deployments.html#sourcetree1-pv-deployments">SourceTree1 PV Deployments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../transform-models.html">Transform Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../transform-models.html#transform-model-help">Transform Model Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transform-models.html#disco-model-in-depth">DISCO Model in Depth</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analysis-workflows.html">Analysis Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis-workflows/hosting-capacity-analysis.html">Hosting Capacity Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-workflows/upgrade-cost-analysis.html">Upgrade Cost Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines.html">Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pipelines.html#sourcetree1model">SourceTree1Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../debugging-issues.html">Debugging Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../debugging-issues.html#using-jade">Using JADE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging-issues.html#using-pydss">Using PyDSS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data-ingestion.html">Data Ingestion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data-ingestion.html#ingest-to-new-database">Ingest to New Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-ingestion.html#ingest-to-existing-database">Ingest to Existing Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-ingestion.html#run-database-queries">Run Database Queries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-guide.html">Advanced Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced-guide/analysis-deployment.html">Analysis Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced-guide/automated-upgrade-simulation.html">Automated Upgrade Simulation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../build-docs.html">Build docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DISCO</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../data-sources.html">Data Sources</a> &raquo;</li>
      <li>SMART-DS OpenDSS Model Preparation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/data-sources/smart-ds-model-preparation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="smart-ds-opendss-model-preparation">
<h1>SMART-DS OpenDSS Model Preparation<a class="headerlink" href="#smart-ds-opendss-model-preparation" title="Permalink to this headline">¶</a></h1>
<p>Hosting Capacity Analysis makes use of the OpenDSS models from the <a class="reference external" href="https://data.openei.org/s3_viewer?bucket=oedi-data-lake&amp;prefix=SMART-DS%2Fv1.0%2F2018%2F">SMART-DS</a> dataset.
More documentation on the open source SMART-DS datasets can be found <a class="reference external" href="https://github.com/openEDI/documentation/tree/main/SMART-DS">here</a>.
Pre-processing is performed on this dataset to prepare it for the analysis. The chart below shows the various stages of pre-processing performed on the SMART-DS OpenDSS Models.</p>
<a class="reference internal image-reference" href="../_images/SMART-DS-flowchart.png"><img alt="../_images/SMART-DS-flowchart.png" src="../_images/SMART-DS-flowchart.png" style="width: 400px;" /></a>
<section id="copy-smart-ds-dataset">
<h2>Copy SMART-DS Dataset<a class="headerlink" href="#copy-smart-ds-dataset" title="Permalink to this headline">¶</a></h2>
<p>The dataset can be copied to the analysis location using <a class="reference external" href="https://github.com/NREL/disco/blob/main/scripts/copy_smart_ds_dataset.py">https://github.com/NREL/disco/blob/main/scripts/copy_smart_ds_dataset.py</a></p>
<p>Usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python ~/sandboxes/disco/scripts/copy_smart_ds_dataset.py -y <span class="m">2018</span> -c SFO -v v1.0 /projects/distcosts3/SMART-DS
</pre></div>
</div>
<p>Here is the help:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python ~/sandboxes/disco/scripts/copy_smart_ds_dataset.py --help

 Usage: copy_smart_ds_dataset.py <span class="o">[</span>OPTIONS<span class="o">]</span> OUTPUT_DIR

   Copy a SMART-DS from the Eagle <span class="nb">source</span> directory to a destination directory.

 Options:
   -f, --force         overwrite output-dir <span class="k">if</span> it exists
   -c, --city TEXT     dataset city  <span class="o">[</span>required<span class="o">]</span>
   -y, --year TEXT     dataset year  <span class="o">[</span>required<span class="o">]</span>
   -v, --version TEXT  dataset version  <span class="o">[</span>required<span class="o">]</span>
   --help              Show this message and exit.
</pre></div>
</div>
</section>
<section id="restructure-to-substation-transformer">
<h2>Restructure to substation transformer<a class="headerlink" href="#restructure-to-substation-transformer" title="Permalink to this headline">¶</a></h2>
<p>The SMART-DS dataset has Open DSS models defined at the feeder and substation level. In this stage, Open DSS models are restructured and defined such that the analysis can be performed at the substation transformer level.
This can be performed using <a class="reference external" href="https://github.com/NREL/disco/blob/main/scripts/smartds_restructuring_transformer_folder.py">https://github.com/NREL/disco/blob/main/scripts/smartds_restructuring_transformer_folder.py</a></p>
<p>Usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python ~/sandboxes/disco/scripts/smartds_restructuring_transformer_folder.py BASE_PATH ORIGINAL_DATASET NEW_DATASET LIST_OF_REGIONS
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python ~/sandboxes/disco/scripts/smartds_restructuring_transformer_folder.py /projects/distcosts3/SMART-DS/v1.0/2018 SFO SFO_xfmr P1U,P1R,P2U
</pre></div>
</div>
</section>
<section id="feeder-screening-model-fixes">
<h2>Feeder screening &amp; model fixes<a class="headerlink" href="#feeder-screening-model-fixes" title="Permalink to this headline">¶</a></h2>
<p>In this, all the base-case feeders are passed through a preliminary screening process.
Here, disconnected nodes are removed, and the models are checked for connectivity, isolated nodes and extreme cases of thermal or voltage violations.
These would need to be addressed before proceeding to the hosting capacity analysis. This can be done using <a class="reference external" href="https://github.com/NREL/Distribution-Integration-Analysis/blob/master/scripts-simulation/generate_screening_jobs.py">https://github.com/NREL/Distribution-Integration-Analysis/blob/master/scripts-simulation/generate_screening_jobs.py</a></p>
<p>Usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python generate_screening_jobs.py PATH_TO_REGIONS
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python generate_screening_jobs.py /projects/distcosts3/SMART-DS/v1.0/2018/SFO
</pre></div>
</div>
</section>
<section id="create-pv-deployments">
<h2>Create PV deployments<a class="headerlink" href="#create-pv-deployments" title="Permalink to this headline">¶</a></h2>
<p>In this stage, PV deployments are generated for hosting capacity analysis. There are 10 sample PV deployments for every placement type (close, random, far) for every 5% increment upto 200% PV to load ratio .
This can be done using disco, refer to the <a class="reference internal" href="../pv-deployments.html#pvdeployments"><span class="std std-ref">PV Deployments</span></a> documentation.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../data-sources.html" class="btn btn-neutral float-left" title="Data Sources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../pv-deployments.html" class="btn btn-neutral float-right" title="PV Deployments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, NREL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>